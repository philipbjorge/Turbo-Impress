diff --git a/browser/build.sh b/browser/build.sh
old mode 100644
new mode 100755
diff --git a/lib/compiler/index.js b/lib/compiler/index.js
index bbc1304..35d7db6 100644
--- a/lib/compiler/index.js
+++ b/lib/compiler/index.js
@@ -33,7 +33,9 @@ exports.defaultCompilationOptions = {
   outputFormatting: {indent_level: 2, beautify: true},
   detailedOutput: false, // if true, return {ast: <ast>, code: <code>}
   strict: true, // adds '"use strict";' to the head of generated js code
-  raw: false // Do not wrap source and do not enable runtime
+  raw: false, // Do not depend on or include the Move runtime library.
+  wrapSource: true, // Wrap source in a closure.
+  includeRuntime: true // Import runtime into the compiled source.
 };
 
 
@@ -92,6 +94,12 @@ exports.compile = function compile(source, options) {
   // Coalesce options
   if (typeof options === 'object') for (var k in options) op[k] = options[k];
 
+  // Raw mode overrides wrapSource and includeRuntime.
+  if (op.raw) {
+    op.wrapSource = false;
+    op.includeRuntime = false;
+  }
+
   // Obscure and should-not-be-changed-by-user options
   op.strictMode = false; // Puts the parser in strict mode
   op.embedTokens = false; // Enables embedding of node meta into the AST -- might break ast transforms
@@ -166,8 +174,8 @@ exports.compile = function compile(source, options) {
 
   // Prepare source
   source += '\n';
-  if (!op.raw)
-    source = wrapInRuntime(source, op);
+  if (op.includeRuntime) source = includeRuntime(source, op);
+  if (op.wrapSource) source = wrapSource(source);
 
   // Parse Move and/or JavaScript source
   try {
@@ -220,18 +228,18 @@ exports.compile = function compile(source, options) {
   var jscode = processor.gen_code(ast, op.outputFormatting);
 
   // Adjust wrap to module stub
-  if (!op.raw && op.moduleStub) {
+  if (op.wrapSource && op.moduleStub) {
     jscode = jscode.replace(/^\(function\s*\(\)\s*\{/, 'function(require,module,exports){')
                    .replace(/\)\(\);$/, '');
   }
 
   // Add "use strict"
   if (op.strict) {
-    if (op.raw) {
-      jscode = '"use strict";'+jscode;
-    } else {
+    if (op.wrapSource) {
       jscode = jscode.replace(/\(function\s*\(\)\s*\{/,
                               '(function(){"use strict";');
+    } else {
+      jscode = '"use strict";'+jscode;
     }
   }
 
@@ -396,9 +404,15 @@ var parseKWArgs = function parseKWArgs(args, spec) {
 }
 
 
-// Wraps raw Move source, enabling access to the runtime library
-var wrapInRuntime = function wrapInRuntime(source, op) {
-  var s = '(function() { ';
+// Wraps raw Move source in a closure
+var wrapSource = function wrapSource(source) {
+  return '(function() {' + source + '})()';
+}
+
+
+// Adds runtime to the Move source, enabling access to the runtime library
+var includeRuntime = function includeRuntime(source, op) {
+  var s = '';
   if (!op.automaticVarDeclarations)
     s += 'var ';
   s += 'Move = __move.runtime';
@@ -408,7 +422,7 @@ var wrapInRuntime = function wrapInRuntime(source, op) {
            return name + ' = Move.'+name;
          }).join(',');
   }
-  return s + '; ' + source + '})()';
+  return s + '; ' + source;
 }
 
 // Provide CommonJS module service for loading move code
@@ -426,4 +440,4 @@ Object.keys(exports).forEach(function (k) {
 });
 
 // Import the runtime library
-require('../runtime');
\ No newline at end of file
+require('../runtime');
